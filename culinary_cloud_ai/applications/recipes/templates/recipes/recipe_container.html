{% load static %}

<a href="{{ recipe.get_absolute_url }}" class="recipe-card">

  <div class="card-front">
    {% if recipe.recipe_image %}
      <img src="{{ recipe.recipe_image.url }}" alt="{{ recipe.title }}">
    {% else %}
      <img src="{% static 'images/placeholder.png' %}" alt="No image">
    {% endif %}
    <h2>{{ recipe.title|truncatechars:47 }}</h2>
    <div class="stats">
      <span>❤️ {{ recipe.likes_count }}</span>
      <span>💬 {{ recipe.comments_count }}</span>
    </div>
  </div>

  <img
    src="{{ recipe.recipe_owner.profile_image.url }}"
    alt="{{ recipe.recipe_owner.username }}'s avatar"
    class="recipe-card__avatar"
  />

  <div class="recipe-card__overlay">
    <p class="card__title">{{ recipe.title }}</p>
    <p class="card__description">{{ recipe.description }}</p>
  </div>

</a>
